{"remainingRequest":"D:\\资料\\ideodemo\\HospitalManager\\HospitalManagerVue\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\资料\\ideodemo\\HospitalManager\\HospitalManagerVue\\src\\views\\Login.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\资料\\ideodemo\\HospitalManager\\HospitalManagerVue\\src\\views\\Login.vue","mtime":1712473534064},{"path":"D:\\资料\\ideodemo\\HospitalManager\\HospitalManagerVue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1689001368000},{"path":"D:\\资料\\ideodemo\\HospitalManager\\HospitalManagerVue\\node_modules\\babel-loader\\lib\\index.js","mtime":1689001370000},{"path":"D:\\资料\\ideodemo\\HospitalManager\\HospitalManagerVue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1689001368000},{"path":"D:\\资料\\ideodemo\\HospitalManager\\HospitalManagerVue\\node_modules\\vue-loader\\lib\\index.js","mtime":1689001370000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCByZXF1ZXN0IGZyb20gIkAvdXRpbHMvcmVxdWVzdC5qcyI7CmltcG9ydCB7IHNldFRva2VuIH0gZnJvbSAiQC91dGlscy9zdG9yYWdlLmpzIjsKaW1wb3J0IHsgdG9Mb2FkIH0gZnJvbSAiQC91dGlscy9pbml0aWFsaXplLmpzIjsKCmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAiTG9naW4iLAogIGRhdGEoKSB7CiAgICB2YXIgdmFsaWRhdGVNb2JsaWUgPSAocnVsZSwgdmFsdWUsIGNhbGxiYWNrKSA9PiB7CiAgICAgIGlmICh2YWx1ZSA9PT0gdW5kZWZpbmVkKSB7CiAgICAgICAgY2FsbGJhY2sobmV3IEVycm9yKCLor7fovpPlhaXmiYvmnLrlj7ciKSk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgbGV0IHJlZyA9IC9eMSgzWzAtOV18NFs1LDddfDVbMCwxLDIsMyw1LDYsNyw4LDldfDZbMiw1LDYsN118N1swLDEsNyw4XXw4WzAtOV18OVsxLDgsOV0pXGR7OH0kLzsKICAgICAgICBpZiAoIXJlZy50ZXN0KHZhbHVlKSkgewogICAgICAgICAgY2FsbGJhY2sobmV3IEVycm9yKCLor7fovpPlhaXlkIjms5XnmoTmiYvmnLrlj7ciKSk7CiAgICAgICAgfQogICAgICAgIGNhbGxiYWNrKCk7CiAgICAgIH0KICAgIH07CiAgICB2YXIgdmFsaWRhdGVDYXJkID0gKHJ1bGUsIHZhbHVlLCBjYWxsYmFjaykgPT4gewogICAgICBpZiAodmFsdWUgPT09IHVuZGVmaW5lZCkgewogICAgICAgIGNhbGxiYWNrKG5ldyBFcnJvcigi6K+36L6T5YWl6Lqr5Lu96K+B5Y+3IikpOwogICAgICB9IGVsc2UgewogICAgICAgIGxldCByZWcgPSAvKF5cZHsxNX0kKXwoXlxkezE4fSQpfCheXGR7MTd9KFxkfFh8eCkkKS87CiAgICAgICAgaWYgKCFyZWcudGVzdCh2YWx1ZSkpIHsKICAgICAgICAgIGNhbGxiYWNrKG5ldyBFcnJvcigi6K+36L6T5YWl5ZCI5rOV55qE6Lqr5Lu96K+B5Y+356CBIikpOwogICAgICAgIH0KICAgICAgICBjYWxsYmFjaygpOwogICAgICB9CiAgICB9OwogICAgdmFyIHZhbGlkYXRlUGFzcyA9IChydWxlLCB2YWx1ZSwgY2FsbGJhY2spID0+IHsKICAgICAgaWYgKHZhbHVlID09PSAiIikgewogICAgICAgIGNhbGxiYWNrKG5ldyBFcnJvcigi6K+36L6T5YWl5a+G56CBIikpOwogICAgICB9IGVsc2UgewogICAgICAgIGlmICh0aGlzLmZpbmRGb3JtLmNoZWNrUGFzc3dvcmQgIT09ICIiKSB7CiAgICAgICAgICB0aGlzLiRyZWZzLmZpbmRGb3JtLnZhbGlkYXRlRmllbGQoImNoZWNrUGFzc3dvcmQiKTsKICAgICAgICB9CiAgICAgICAgY2FsbGJhY2soKTsKICAgICAgfQogICAgfTsKICAgIHZhciB2YWxpZGF0ZVBhc3MyID0gKHJ1bGUsIHZhbHVlLCBjYWxsYmFjaykgPT4gewogICAgICBpZiAodmFsdWUgPT09ICIiKSB7CiAgICAgICAgY2FsbGJhY2sobmV3IEVycm9yKCLor7flho3mrKHovpPlhaXlr4bnoIEiKSk7CiAgICAgIH0gZWxzZSBpZiAodmFsdWUgIT09IHRoaXMuZmluZEZvcm0ubmV3UGFzc3dvcmQpIHsKICAgICAgICBjYWxsYmFjayhuZXcgRXJyb3IoIuS4pOasoei+k+WFpeWvhueggeS4jeS4gOiHtCEiKSk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgY2FsbGJhY2soKTsKICAgICAgfQogICAgfTsKICAgIHJldHVybiB7CiAgICAgIC8v6IOM5pmv5Zu+54mHCiAgICAgIGJhY2tncm91bmREaXY6IHsKICAgICAgICBiYWNrZ3JvdW5kSW1hZ2U6ICJ1cmwoIiArIHJlcXVpcmUoIi4uL2Fzc2V0cy9kb2N0b3IuanBlZyIpICsgIikiLAogICAgICAgIGJhY2tncm91bmRSZXBlYXQ6ICJuby1yZXBlYXQiLAogICAgICAgIGJhY2tncm91bmRTaXplOiAiMTAwJSAxMDAlIiwKICAgICAgfSwKICAgICAgbG9naW5Gb3JtOiB7CiAgICAgICAgaWQ6ICIiLAogICAgICAgIHBhc3N3b3JkOiAiIiwKICAgICAgfSwKICAgICAgbG9naW5SdWxlczogewogICAgICAgIGlkOiBbCiAgICAgICAgICB7CiAgICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLAogICAgICAgICAgICBtZXNzYWdlOiAi6K+36L6T5YWl6LSm5Y+357yW5Y+3IiwKICAgICAgICAgICAgdHJpZ2dlcjogImJsdXIiLAogICAgICAgICAgfSwKICAgICAgICAgIHsKICAgICAgICAgICAgbWluOiAzLAogICAgICAgICAgICBtYXg6IDUwLAogICAgICAgICAgICBtZXNzYWdlOiAi6ZW/5bqm5ZyoIDPliLAgNTAg5Liq5a2X56ymIiwKICAgICAgICAgICAgdHJpZ2dlcjogImJsdXIiLAogICAgICAgICAgfSwKICAgICAgICBdLAogICAgICAgIHBhc3N3b3JkOiBbeyByZXF1aXJlZDogdHJ1ZSwgbWVzc2FnZTogIuivt+i+k+WFpeWvhueggSIsIHRyaWdnZXI6ICJibHVyIiB9XSwKICAgICAgfSwKICAgICAgcm9sZTogIuaCo+iAhSIsCiAgICAgIGZpbmRSb2xlOiAi5oKj6ICFIiwKICAgICAgLy/mib7lm57lr4bnoIEKICAgICAgZmluZEZvcm1WaXNpYmxlOiBmYWxzZSwKICAgICAgZmluZEZvcm06IHsKICAgICAgICBjb2RlOiAiIiwKICAgICAgICBuZXdQYXNzd29yZDogIiIsCiAgICAgICAgY2hlY2tQYXNzd29yZDogIiIsCiAgICAgICAgcEVtYWlsOiAiIiwKICAgICAgfSwKCiAgICAgIGZpbmRSdWxlczogewogICAgICAgIHBFbWFpbDogWwogICAgICAgICAgewogICAgICAgICAgICByZXF1aXJlZDogdHJ1ZSwKICAgICAgICAgICAgbWVzc2FnZTogIuivt+i+k+WFpemCrueuseWcsOWdgCIsCiAgICAgICAgICAgIHRyaWdnZXI6ICJibHVyIiwKICAgICAgICAgIH0sCiAgICAgICAgICB7CiAgICAgICAgICAgIHR5cGU6ICJlbWFpbCIsCiAgICAgICAgICAgIG1lc3NhZ2U6ICLor7fovpPlhaXmraPnoa7nmoTpgq7nrrHlnLDlnYAiLAogICAgICAgICAgICB0cmlnZ2VyOiBbImJsdXIiLCAiY2hhbmdlIl0sCiAgICAgICAgICB9LAogICAgICAgIF0sCiAgICAgICAgY29kZTogWwogICAgICAgICAgewogICAgICAgICAgICByZXF1aXJlZDogdHJ1ZSwKICAgICAgICAgICAgbWVzc2FnZTogIuivt+i+k+WFpemqjOivgeeggSIsCiAgICAgICAgICAgIHRyaWdnZXI6ICJibHVyIiwKICAgICAgICAgIH0sCiAgICAgICAgXSwKICAgICAgICBuZXdQYXNzd29yZDogW3sgdmFsaWRhdG9yOiB2YWxpZGF0ZVBhc3MsIHRyaWdnZXI6ICJibHVyIiB9XSwKICAgICAgICBjaGVja1Bhc3N3b3JkOiBbeyB2YWxpZGF0b3I6IHZhbGlkYXRlUGFzczIsIHRyaWdnZXI6ICJibHVyIiB9XSwKICAgICAgfSwKICAgICAgdG90YWxUaW1lOiA2MCwKICAgICAgY29udGVudDogIuWPkemAgemqjOivgeeggSIsCiAgICAgIGNhbkNsaWNrOiB0cnVlLAogICAgICAvL+azqOWGjAogICAgICByZWdpc3RlckZvcm1WaXNpYmxlOiBmYWxzZSwKICAgICAgcmVnaXN0ZXJGb3JtOiB7CiAgICAgICAgcEdlbmRlcjogIueUtyIsCiAgICAgIH0sCiAgICAgIHJlZ2lzdGVyUnVsZXM6IHsKICAgICAgICBwSWQ6IFsKICAgICAgICAgIHsgcmVxdWlyZWQ6IHRydWUsIG1lc3NhZ2U6ICLor7fovpPlhaXotKblj7ciLCB0cmlnZ2VyOiAiYmx1ciIgfSwKICAgICAgICAgIHsKICAgICAgICAgICAgdHlwZTogIm51bWJlciIsCiAgICAgICAgICAgIG1lc3NhZ2U6ICLotKblj7flv4XpobvmlbDlrZfnsbvlnosiLAogICAgICAgICAgICB0cmlnZ2VyOiAiYmx1ciIsCiAgICAgICAgICB9LAogICAgICAgIF0sCiAgICAgICAgcFBhc3N3b3JkOiBbCiAgICAgICAgICB7IHJlcXVpcmVkOiB0cnVlLCBtZXNzYWdlOiAi6K+36L6T5YWl5a+G56CBIiwgdHJpZ2dlcjogImJsdXIiIH0sCiAgICAgICAgICB7CiAgICAgICAgICAgIG1pbjogNCwKICAgICAgICAgICAgbWF4OiA1MCwKICAgICAgICAgICAgbWVzc2FnZTogIumVv+W6puWcqCA05YiwIDUwIOS4quWtl+espiIsCiAgICAgICAgICAgIHRyaWdnZXI6ICJibHVyIiwKICAgICAgICAgIH0sCiAgICAgICAgXSwKICAgICAgICBwTmFtZTogWwogICAgICAgICAgeyByZXF1aXJlZDogdHJ1ZSwgbWVzc2FnZTogIuivt+i+k+WFpeWnk+WQjSIsIHRyaWdnZXI6ICJibHVyIiB9LAogICAgICAgICAgewogICAgICAgICAgICBtaW46IDIsCiAgICAgICAgICAgIG1heDogOCwKICAgICAgICAgICAgbWVzc2FnZTogIumVv+W6puWcqCAy5YiwIDgg5Liq5a2X56ymIiwKICAgICAgICAgICAgdHJpZ2dlcjogImJsdXIiLAogICAgICAgICAgfSwKICAgICAgICBdLAogICAgICAgIHBFbWFpbDogWwogICAgICAgICAgeyByZXF1aXJlZDogdHJ1ZSwgbWVzc2FnZTogIuivt+i+k+WFpemCrueusSIsIHRyaWdnZXI6ICJibHVyIiB9LAogICAgICAgICAgewogICAgICAgICAgICB0eXBlOiAiZW1haWwiLAogICAgICAgICAgICBtZXNzYWdlOiAi6K+36L6T5YWl5q2j56Gu55qE6YKu566x5Zyw5Z2AIiwKICAgICAgICAgICAgdHJpZ2dlcjogWyJibHVyIiwgImNoYW5nZSJdLAogICAgICAgICAgfSwKICAgICAgICBdLAogICAgICAgIHBQaG9uZTogW3sgdmFsaWRhdG9yOiB2YWxpZGF0ZU1vYmxpZSB9XSwKICAgICAgICBwQ2FyZDogW3sgdmFsaWRhdG9yOiB2YWxpZGF0ZUNhcmQgfV0sCiAgICAgICAgcEJpcnRoZGF5OiBbCiAgICAgICAgICB7CiAgICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLAogICAgICAgICAgICBtZXNzYWdlOiAi6YCJ5oup5Ye655Sf5pel5pyfIiwKICAgICAgICAgICAgdHJpZ2dlcjogImJsdXIiLAogICAgICAgICAgfSwKICAgICAgICBdLAogICAgICB9LAogICAgfTsKICB9LAogIG1vdW50ZWQoKSB7CiAgICB0b0xvYWQoKTsKICB9LAogIG1ldGhvZHM6IHsKICAgIC8v54K55Ye75rOo5YaM56Gu6K6k5oyJ6ZKuCiAgICByZWdpc3RlckNsaWNrKGZvcm1OYW1lKSB7CiAgICAgIHRoaXMuJHJlZnNbZm9ybU5hbWVdLnZhbGlkYXRlKCh2YWxpZCkgPT4gewogICAgICAgIGlmICh2YWxpZCkgewogICAgICAgICAgcmVxdWVzdAogICAgICAgICAgICAuZ2V0KCJwYXRpZW50L2FkZFBhdGllbnQiLCB7CiAgICAgICAgICAgICAgcGFyYW1zOiB7CiAgICAgICAgICAgICAgICBwSWQ6IHRoaXMucmVnaXN0ZXJGb3JtLnBJZCwKICAgICAgICAgICAgICAgIHBOYW1lOiB0aGlzLnJlZ2lzdGVyRm9ybS5wTmFtZSwKICAgICAgICAgICAgICAgIHBQYXNzd29yZDogdGhpcy5yZWdpc3RlckZvcm0ucFBhc3N3b3JkLAogICAgICAgICAgICAgICAgcEdlbmRlcjogdGhpcy5yZWdpc3RlckZvcm0ucEdlbmRlciwKICAgICAgICAgICAgICAgIHBFbWFpbDogdGhpcy5yZWdpc3RlckZvcm0ucEVtYWlsLAogICAgICAgICAgICAgICAgcFBob25lOiB0aGlzLnJlZ2lzdGVyRm9ybS5wUGhvbmUsCiAgICAgICAgICAgICAgICBwQ2FyZDogdGhpcy5yZWdpc3RlckZvcm0ucENhcmQsCiAgICAgICAgICAgICAgICBwQmlydGhkYXk6IHRoaXMucmVnaXN0ZXJGb3JtLnBCaXJ0aGRheSwKICAgICAgICAgICAgICB9LAogICAgICAgICAgICB9KQogICAgICAgICAgICAudGhlbigocmVzKSA9PiB7CiAgICAgICAgICAgICAgaWYgKHJlcy5kYXRhLnN0YXR1cyAhPT0gMjAwKQogICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuJG1lc3NhZ2UuZXJyb3IoIui0puWPt+aIlumCrueuseW3suiiq+WNoOeUqO+8gSIpOwogICAgICAgICAgICAgIHRoaXMucmVnaXN0ZXJGb3JtVmlzaWJsZSA9IGZhbHNlOwogICAgICAgICAgICAgIHRoaXMuJG1lc3NhZ2Uuc3VjY2Vzcygi5rOo5YaM5oiQ5Yqf77yBIik7CiAgICAgICAgICAgICAgY29uc29sZS5sb2cocmVzKTsKICAgICAgICAgICAgfSk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIGNvbnNvbGUubG9nKCJlcnJvciBzdWJtaXQhISIpOwogICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9LAogICAgLy8g54K55Ye75om+5Zue5a+G56CB56Gu6K6k5oyJ6ZKuCiAgICBmaW5kUGFzc3dvcmQoZmluZEZvcm0pIHsKICAgICAgdGhpcy4kcmVmc1tmaW5kRm9ybV0udmFsaWRhdGUoKHZhbGlkKSA9PiB7CiAgICAgICAgaWYgKHZhbGlkKSB7CiAgICAgICAgICAvL+WmguaenOaYr+mAieS4reaCo+iAhQogICAgICAgICAgaWYgKHRoaXMuZmluZFJvbGUgPT09ICLmgqPogIUiKSB7CiAgICAgICAgICAgIHJlcXVlc3QKICAgICAgICAgICAgICAuZ2V0KCJwYXRpZW50L2ZpbmRQYXNzd29yZCIsIHsKICAgICAgICAgICAgICAgIHBhcmFtczogewogICAgICAgICAgICAgICAgICBwRW1haWw6IHRoaXMuZmluZEZvcm0ucEVtYWlsLAogICAgICAgICAgICAgICAgICBwUGFzc3dvcmQ6IHRoaXMuZmluZEZvcm0ubmV3UGFzc3dvcmQsCiAgICAgICAgICAgICAgICAgIGNvZGU6IHRoaXMuZmluZEZvcm0uY29kZSwKICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgfSkKICAgICAgICAgICAgICAudGhlbigocmVzKSA9PiB7CiAgICAgICAgICAgICAgICBpZiAocmVzLmRhdGEuc3RhdHVzICE9PSAyMDApCiAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLiRtZXNzYWdlLmVycm9yKCLpqozor4HnoIHplJnor6/miJbogIXlt7Lov4fmnJ/vvIHvvIHvvIEiKTsKICAgICAgICAgICAgICAgIHRoaXMuJG1lc3NhZ2Uuc3VjY2Vzcygi5a+G56CB5L+u5pS55oiQ5Yqf77yB77yB6K+355m75b2VIik7CiAgICAgICAgICAgICAgICB0aGlzLmZpbmRGb3JtVmlzaWJsZSA9IGZhbHNlOwogICAgICAgICAgICAgIH0pOwogICAgICAgICAgfQogICAgICAgICAgLy/lpoLmnpzmmK/pgInkuK3nrqHnkIblkZgKICAgICAgICAgIGlmICh0aGlzLmZpbmRSb2xlID09PSAi566h55CG5ZGYIikgewogICAgICAgICAgICByZXF1ZXN0CiAgICAgICAgICAgICAgLmdldCgiYWRtaW4vZmluZFBhc3N3b3JkIiwgewogICAgICAgICAgICAgICAgcGFyYW1zOiB7CiAgICAgICAgICAgICAgICAgIGFFbWFpbDogdGhpcy5maW5kRm9ybS5wRW1haWwsCiAgICAgICAgICAgICAgICAgIGFQYXNzd29yZDogdGhpcy5maW5kRm9ybS5uZXdQYXNzd29yZCwKICAgICAgICAgICAgICAgICAgY29kZTogdGhpcy5maW5kRm9ybS5jb2RlLAogICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICB9KQogICAgICAgICAgICAgIC50aGVuKChyZXMpID0+IHsKICAgICAgICAgICAgICAgIGlmIChyZXMuZGF0YS5zdGF0dXMgIT09IDIwMCkKICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuJG1lc3NhZ2UuZXJyb3IoIumqjOivgeeggemUmeivr+aIluiAheW3sui/h+acn++8ge+8ge+8gSIpOwogICAgICAgICAgICAgICAgdGhpcy4kbWVzc2FnZS5zdWNjZXNzKCLlr4bnoIHkv67mlLnmiJDlip/vvIHvvIHor7fnmbvlvZUiKTsKICAgICAgICAgICAgICAgIHRoaXMuZmluZEZvcm1WaXNpYmxlID0gZmFsc2U7CiAgICAgICAgICAgICAgfSk7CiAgICAgICAgICB9CiAgICAgICAgICAvL+WmguaenOaYr+mAieS4reaCo+iAhQogICAgICAgICAgaWYgKHRoaXMuZmluZFJvbGUgPT09ICLljLvnlJ8iKSB7CiAgICAgICAgICAgIHJlcXVlc3QKICAgICAgICAgICAgICAuZ2V0KCJkb2N0b3IvZmluZFBhc3N3b3JkIiwgewogICAgICAgICAgICAgICAgcGFyYW1zOiB7CiAgICAgICAgICAgICAgICAgIGRFbWFpbDogdGhpcy5maW5kRm9ybS5wRW1haWwsCiAgICAgICAgICAgICAgICAgIGRQYXNzd29yZDogdGhpcy5maW5kRm9ybS5uZXdQYXNzd29yZCwKICAgICAgICAgICAgICAgICAgY29kZTogdGhpcy5maW5kRm9ybS5jb2RlLAogICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICB9KQogICAgICAgICAgICAgIC50aGVuKChyZXMpID0+IHsKICAgICAgICAgICAgICAgIGlmIChyZXMuZGF0YS5zdGF0dXMgIT09IDIwMCkKICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuJG1lc3NhZ2UuZXJyb3IoIumqjOivgeeggemUmeivr+aIluiAheW3sui/h+acn++8ge+8ge+8gSIpOwogICAgICAgICAgICAgICAgdGhpcy4kbWVzc2FnZS5zdWNjZXNzKCLlr4bnoIHkv67mlLnmiJDlip/vvIHvvIHor7fnmbvlvZUiKTsKICAgICAgICAgICAgICAgIHRoaXMuZmluZEZvcm1WaXNpYmxlID0gZmFsc2U7CiAgICAgICAgICAgICAgfSk7CiAgICAgICAgICB9CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIGNvbnNvbGUubG9nKCJlcnJvciBzdWJtaXQhISIpOwogICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9LAogICAgLy/ngrnlh7vlj5HpgIHpqozor4HnoIHmjInpkq4KICAgIHNlbmRFbWFpbCgpIHsKICAgICAgLy/lgJLorqHml7YKICAgICAgaWYgKCF0aGlzLmNhbkNsaWNrKSByZXR1cm47IC8v5pS55Yqo55qE5piv6L+Z5Lik6KGM5Luj56CBCiAgICAgIHRoaXMuY2FuQ2xpY2sgPSBmYWxzZTsKICAgICAgdGhpcy5jb250ZW50ID0gdGhpcy50b3RhbFRpbWUgKyAic+WQjumHjeaWsOWPkemAgSI7CiAgICAgIGxldCBjbG9jayA9IHdpbmRvdy5zZXRJbnRlcnZhbCgoKSA9PiB7CiAgICAgICAgdGhpcy50b3RhbFRpbWUtLTsKICAgICAgICB0aGlzLmNvbnRlbnQgPSB0aGlzLnRvdGFsVGltZSArICJz5ZCO6YeN5paw5Y+R6YCBIjsKICAgICAgICBpZiAodGhpcy50b3RhbFRpbWUgPCAwKSB7CiAgICAgICAgICB3aW5kb3cuY2xlYXJJbnRlcnZhbChjbG9jayk7CiAgICAgICAgICB0aGlzLmNvbnRlbnQgPSAi6YeN5paw5Y+R6YCB6aqM6K+B56CBIjsKICAgICAgICAgIHRoaXMudG90YWxUaW1lID0gMTA7CiAgICAgICAgICB0aGlzLmNhbkNsaWNrID0gdHJ1ZTsgLy/ov5nph4zph43mlrDlvIDlkK8KICAgICAgICB9CiAgICAgIH0sIDEwMDApOwoKICAgICAgLy/lpoLmnpzmmK/pgInkuK3mgqPogIUKICAgICAgaWYgKHRoaXMuZmluZFJvbGUgPT09ICLmgqPogIUiKSB7CiAgICAgICAgcmVxdWVzdAogICAgICAgICAgLmdldCgicGF0aWVudC9zZW5kRW1haWwiLCB7CiAgICAgICAgICAgIHBhcmFtczogewogICAgICAgICAgICAgIHBFbWFpbDogdGhpcy5maW5kRm9ybS5wRW1haWwsCiAgICAgICAgICAgIH0sCiAgICAgICAgICB9KQogICAgICAgICAgLnRoZW4oKHJlcykgPT4gewogICAgICAgICAgICBjb25zb2xlLmxvZyh0aGlzLmZpbmRGb3JtLnBFbWFpbCk7CiAgICAgICAgICAgIGNvbnNvbGUubG9nKHJlcyk7CiAgICAgICAgICAgIGlmIChyZXMuZGF0YS5zdGF0dXMgIT09IDIwMCkKICAgICAgICAgICAgICByZXR1cm4gdGhpcy4kbWVzc2FnZS5lcnJvcigi6K+l6YKu566x5pqC5pyq5rOo5YaM77yB6K+35YWI5rOo5YaM77yBIik7CiAgICAgICAgICAgIHRoaXMuJG1lc3NhZ2Uuc3VjY2Vzcygi6aqM6K+B56CB5Y+R6YCB5oiQ5Yqf77yBIik7CiAgICAgICAgICB9KTsKICAgICAgfQogICAgICAvL+WmguaenOaYr+mAieS4reeuoeeQhuWRmAogICAgICBpZiAodGhpcy5maW5kUm9sZSA9PT0gIueuoeeQhuWRmCIpIHsKICAgICAgICByZXF1ZXN0CiAgICAgICAgICAuZ2V0KCJhZG1pbi9zZW5kRW1haWwiLCB7CiAgICAgICAgICAgIHBhcmFtczogewogICAgICAgICAgICAgIGFFbWFpbDogdGhpcy5maW5kRm9ybS5wRW1haWwsCiAgICAgICAgICAgIH0sCiAgICAgICAgICB9KQogICAgICAgICAgLnRoZW4oKHJlcykgPT4gewogICAgICAgICAgICBjb25zb2xlLmxvZyh0aGlzLmZpbmRGb3JtLnBFbWFpbCk7CiAgICAgICAgICAgIGNvbnNvbGUubG9nKHJlcyk7CiAgICAgICAgICAgIGlmIChyZXMuZGF0YS5zdGF0dXMgIT09IDIwMCkKICAgICAgICAgICAgICByZXR1cm4gdGhpcy4kbWVzc2FnZS5lcnJvcigi6K+l6YKu566x5pqC5pyq5rOo5YaM77yB6K+35YWI5rOo5YaM77yBIik7CiAgICAgICAgICAgIHRoaXMuJG1lc3NhZ2Uuc3VjY2Vzcygi6aqM6K+B56CB5Y+R6YCB5oiQ5Yqf77yBIik7CiAgICAgICAgICB9KTsKICAgICAgfQogICAgICAvL+WmguaenOaYr+mAieS4reWMu+eUnwogICAgICBpZiAodGhpcy5maW5kUm9sZSA9PT0gIuWMu+eUnyIpIHsKICAgICAgICByZXF1ZXN0CiAgICAgICAgICAuZ2V0KCJkb2N0b3Ivc2VuZEVtYWlsIiwgewogICAgICAgICAgICBwYXJhbXM6IHsKICAgICAgICAgICAgICBkRW1haWw6IHRoaXMuZmluZEZvcm0ucEVtYWlsLAogICAgICAgICAgICB9LAogICAgICAgICAgfSkKICAgICAgICAgIC50aGVuKChyZXMpID0+IHsKICAgICAgICAgICAgY29uc29sZS5sb2codGhpcy5maW5kRm9ybS5wRW1haWwpOwogICAgICAgICAgICBjb25zb2xlLmxvZyhyZXMpOwogICAgICAgICAgICBpZiAocmVzLmRhdGEuc3RhdHVzICE9PSAyMDApCiAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuJG1lc3NhZ2UuZXJyb3IoIuivpemCrueuseaaguacquazqOWGjO+8geivt+WFiOazqOWGjO+8gSIpOwogICAgICAgICAgICB0aGlzLiRtZXNzYWdlLnN1Y2Nlc3MoIumqjOivgeeggeWPkemAgeaIkOWKn++8gSIpOwogICAgICAgICAgfSk7CiAgICAgIH0KICAgIH0sCiAgICAvL+aPkOS6pOihqOWNlQogICAgc3VibWl0TG9naW5Gb3JtKGZvcm1OYW1lKSB7CiAgICAgIGlmICghL15cZCskLy50ZXN0KHRoaXMubG9naW5Gb3JtLmlkKSkgewogICAgICAgIHRoaXMuJG1lc3NhZ2UuZXJyb3IoIueUqOaIt+WQjeacieivryIpOwogICAgICAgIHJldHVybjsKICAgICAgfQogICAgICB0aGlzLiRyZWZzW2Zvcm1OYW1lXS52YWxpZGF0ZSgodmFsaWQpID0+IHsKICAgICAgICBpZiAodmFsaWQpIHsKICAgICAgICAgIGlmICh0aGlzLnJvbGUgPT09ICLnrqHnkIblkZgiKSB7CiAgICAgICAgICAgIHZhciBwYXJhbXMgPSBuZXcgVVJMU2VhcmNoUGFyYW1zKCk7CiAgICAgICAgICAgIHBhcmFtcy5hcHBlbmQoImFJZCIsIHRoaXMubG9naW5Gb3JtLmlkKTsKICAgICAgICAgICAgcGFyYW1zLmFwcGVuZCgiYVBhc3N3b3JkIiwgdGhpcy5sb2dpbkZvcm0ucGFzc3dvcmQpOwoKICAgICAgICAgICAgcmVxdWVzdAogICAgICAgICAgICAgIC5wb3N0KCJhZG1pbi9sb2dpbiIsIHBhcmFtcykKICAgICAgICAgICAgICAudGhlbigocmVzKSA9PiB7CiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhyZXMpOwogICAgICAgICAgICAgICAgaWYgKHJlcy5kYXRhLnN0YXR1cyAhPSAyMDApCiAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLiRtZXNzYWdlLmVycm9yKCLnlKjmiLflkI3miJblr4bnoIHplJnor68iKTsKICAgICAgICAgICAgICAgIHNldFRva2VuKHJlcy5kYXRhLmRhdGEudG9rZW4pOwogICAgICAgICAgICAgICAgdGhpcy4kcm91dGVyLnB1c2goIi9hZG1pbkxheW91dCIpOwogICAgICAgICAgICAgIH0pCiAgICAgICAgICAgICAgLmNhdGNoKChlKSA9PiB7CiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlKTsKICAgICAgICAgICAgICAgIGlmIChlLnJlc3BvbnNlID09IHVuZGVmaW5lZCB8fCBlLnJlc3BvbnNlLmRhdGEgPT0gdW5kZWZpbmVkKSB7CiAgICAgICAgICAgICAgICAgIHRoaXMuJG1lc3NhZ2UoewogICAgICAgICAgICAgICAgICAgIHNob3dDbG9zZTogdHJ1ZSwKICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBlLAogICAgICAgICAgICAgICAgICAgIHR5cGU6ICJlcnJvciIsCiAgICAgICAgICAgICAgICAgICAgZHVyYXRpb246IDUwMDAsCiAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgdGhpcy4kbWVzc2FnZSh7CiAgICAgICAgICAgICAgICAgICAgc2hvd0Nsb3NlOiB0cnVlLAogICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IGUucmVzcG9uc2UuZGF0YSwKICAgICAgICAgICAgICAgICAgICB0eXBlOiAiZXJyb3IiLAogICAgICAgICAgICAgICAgICAgIGR1cmF0aW9uOiA1MDAwLAogICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICB9KTsKICAgICAgICAgIH0KICAgICAgICAgIGlmICh0aGlzLnJvbGUgPT09ICLljLvnlJ8iKSB7CiAgICAgICAgICAgIHZhciBwYXJhbXMxID0gbmV3IFVSTFNlYXJjaFBhcmFtcygpOwogICAgICAgICAgICBwYXJhbXMxLmFwcGVuZCgiZElkIiwgdGhpcy5sb2dpbkZvcm0uaWQpOwogICAgICAgICAgICBwYXJhbXMxLmFwcGVuZCgiZFBhc3N3b3JkIiwgdGhpcy5sb2dpbkZvcm0ucGFzc3dvcmQpOwoKICAgICAgICAgICAgcmVxdWVzdAogICAgICAgICAgICAgIC5wb3N0KCJkb2N0b3IvbG9naW4iLCBwYXJhbXMxKQogICAgICAgICAgICAgIC50aGVuKChyZXMpID0+IHsKICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHJlcyk7CiAgICAgICAgICAgICAgICBpZiAocmVzLmRhdGEuc3RhdHVzICE9IDIwMCkKICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuJG1lc3NhZ2UuZXJyb3IoIueUqOaIt+WQjeaIluWvhueggemUmeivryIpOwogICAgICAgICAgICAgICAgc2V0VG9rZW4ocmVzLmRhdGEuZGF0YS50b2tlbik7CiAgICAgICAgICAgICAgICB0aGlzLiRyb3V0ZXIucHVzaCgiL2RvY3RvckxheW91dCIpOwogICAgICAgICAgICAgIH0pCiAgICAgICAgICAgICAgLmNhdGNoKChlKSA9PiB7CiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlKTsKICAgICAgICAgICAgICAgIGlmIChlLnJlc3BvbnNlID09IHVuZGVmaW5lZCB8fCBlLnJlc3BvbnNlLmRhdGEgPT0gdW5kZWZpbmVkKSB7CiAgICAgICAgICAgICAgICAgIHRoaXMuJG1lc3NhZ2UoewogICAgICAgICAgICAgICAgICAgIHNob3dDbG9zZTogdHJ1ZSwKICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBlLAogICAgICAgICAgICAgICAgICAgIHR5cGU6ICJlcnJvciIsCiAgICAgICAgICAgICAgICAgICAgZHVyYXRpb246IDUwMDAsCiAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgdGhpcy4kbWVzc2FnZSh7CiAgICAgICAgICAgICAgICAgICAgc2hvd0Nsb3NlOiB0cnVlLAogICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IGUucmVzcG9uc2UuZGF0YSwKICAgICAgICAgICAgICAgICAgICB0eXBlOiAiZXJyb3IiLAogICAgICAgICAgICAgICAgICAgIGR1cmF0aW9uOiA1MDAwLAogICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICB9KTsKICAgICAgICAgIH0KICAgICAgICAgIGlmICh0aGlzLnJvbGUgPT09ICLmgqPogIUiKSB7CiAgICAgICAgICAgIHZhciBwYXJhbXMyID0gbmV3IFVSTFNlYXJjaFBhcmFtcygpOwogICAgICAgICAgICBwYXJhbXMyLmFwcGVuZCgicElkIiwgdGhpcy5sb2dpbkZvcm0uaWQpOwogICAgICAgICAgICBwYXJhbXMyLmFwcGVuZCgicFBhc3N3b3JkIiwgdGhpcy5sb2dpbkZvcm0ucGFzc3dvcmQpOwoKICAgICAgICAgICAgcmVxdWVzdAogICAgICAgICAgICAgIC5wb3N0KCJwYXRpZW50L2xvZ2luIiwgcGFyYW1zMikKICAgICAgICAgICAgICAudGhlbigocmVzKSA9PiB7CiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhyZXMpOwogICAgICAgICAgICAgICAgaWYgKHJlcy5kYXRhLnN0YXR1cyAhPSAyMDApCiAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLiRtZXNzYWdlLmVycm9yKCLnlKjmiLflkI3miJblr4bnoIHplJnor68iKTsKICAgICAgICAgICAgICAgIHNldFRva2VuKHJlcy5kYXRhLmRhdGEudG9rZW4pOwogICAgICAgICAgICAgICAgdGhpcy4kcm91dGVyLnB1c2goIi9wYXRpZW50TGF5b3V0Iik7CiAgICAgICAgICAgICAgfSkKICAgICAgICAgICAgICAuY2F0Y2goKGUpID0+IHsKICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGUpOwogICAgICAgICAgICAgICAgaWYgKGUucmVzcG9uc2UgPT0gdW5kZWZpbmVkIHx8IGUucmVzcG9uc2UuZGF0YSA9PSB1bmRlZmluZWQpIHsKICAgICAgICAgICAgICAgICAgdGhpcy4kbWVzc2FnZSh7CiAgICAgICAgICAgICAgICAgICAgc2hvd0Nsb3NlOiB0cnVlLAogICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IGUsCiAgICAgICAgICAgICAgICAgICAgdHlwZTogImVycm9yIiwKICAgICAgICAgICAgICAgICAgICBkdXJhdGlvbjogNTAwMCwKICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICB0aGlzLiRtZXNzYWdlKHsKICAgICAgICAgICAgICAgICAgICBzaG93Q2xvc2U6IHRydWUsCiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogZS5yZXNwb25zZS5kYXRhLAogICAgICAgICAgICAgICAgICAgIHR5cGU6ICJlcnJvciIsCiAgICAgICAgICAgICAgICAgICAgZHVyYXRpb246IDUwMDAsCiAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIH0pOwogICAgICAgICAgfQogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBjb25zb2xlLmxvZygiZXJyb3Igc3VibWl0ISEiKTsKICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfSwKICB9LAp9Owo="},{"version":3,"sources":["Login.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAgIA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Login.vue","sourceRoot":"src/views","sourcesContent":["<template>\n  <div class=\"login-index\" :style=\"backgroundDiv\">\n    <div class=\"mid-index\">\n      <i\n        style=\"\n                    top: 40px;\n                    font-size: 28px;\n                    left: 20px;\n                    position: absolute;\n                \"\n        class=\"iconfont icon-r-love\"\n      >\n        登录医院管理系统\n      </i>\n      <el-form\n        :model=\"loginForm\"\n        :rules=\"loginRules\"\n        ref=\"ruleForm\"\n        class=\"loginForm\"\n      >\n        <el-form-item prop=\"id\">\n          <!--必须绑定v-model输入框才能输入字符---->\n          <el-input v-model=\"loginForm.id\">\n            <i\n              slot=\"prefix\"\n              class=\"iconfont icon-r-user1\"\n              style=\"font-size: 22px\"\n            ></i>\n          </el-input>\n        </el-form-item>\n        <el-form-item prop=\"password\">\n          <el-input v-model=\"loginForm.password\" show-password>\n            <i\n              slot=\"prefix\"\n              class=\"iconfont icon-r-lock\"\n              style=\"font-size: 22px\"\n            ></i>\n          </el-input>\n        </el-form-item>\n\n        <!-- 角色单选框 -->\n        <el-form-item class=\"role\">\n          <el-radio-group v-model=\"role\" size=\"small\">\n            <el-radio label=\"患者\"></el-radio>\n            <el-radio label=\"医生\"></el-radio>\n            <el-radio label=\"管理员\"></el-radio>\n          </el-radio-group>\n        </el-form-item>\n\n        <el-form-item class=\"btns\">\n          <el-button\n            type=\"primary\"\n            style=\"font-size: 18px\"\n            @click=\"submitLoginForm('ruleForm')\"\n          >\n            <i class=\"iconfont icon-r-yes\" style=\"font-size: 20px\"></i>\n            登录</el-button\n          >\n          <el-button\n            type=\"info\"\n            style=\"font-size: 18px\"\n            @click=\"registerFormVisible = true\"\n          >\n            <i class=\"iconfont icon-r-add\" style=\"font-size: 20px\"></i>\n            注册新账号</el-button\n          >\n        </el-form-item>\n      </el-form>\n    </div>\n\n    <!-- 注册对话框 -->\n    <el-dialog title=\"用户注册\" :visible.sync=\"registerFormVisible\">\n      <el-form\n        class=\"findPassword\"\n        :model=\"registerForm\"\n        :rules=\"registerRules\"\n        ref=\"registerForm\"\n      >\n        <el-form-item label=\"账号\" label-width=\"80px\" prop=\"pId\">\n          <el-input v-model.number=\"registerForm.pId\"></el-input>\n        </el-form-item>\n        <el-form-item label=\"性别\" label-width=\"80px\">\n          <el-radio v-model=\"registerForm.pGender\" label=\"男\">男</el-radio>\n          <el-radio v-model=\"registerForm.pGender\" label=\"女\">女</el-radio>\n        </el-form-item>\n        <el-form-item label=\"密码\" label-width=\"80px\" prop=\"pPassword\">\n          <el-input v-model=\"registerForm.pPassword\"></el-input>\n        </el-form-item>\n        <el-form-item label=\"姓名\" label-width=\"80px\" prop=\"pName\">\n          <el-input v-model=\"registerForm.pName\"></el-input>\n        </el-form-item>\n        <el-form-item label=\"出生日期\" label-width=\"80px\" prop=\"pBirthday\">\n          <el-date-picker\n            v-model=\"registerForm.pBirthday\"\n            type=\"date\"\n            placeholder=\"选择日期\"\n            value-format=\"yyyy-MM-dd\"\n          >\n          </el-date-picker>\n        </el-form-item>\n        <el-form-item label=\"手机号\" label-width=\"80px\" prop=\"pPhone\">\n          <el-input v-model=\"registerForm.pPhone\"></el-input>\n        </el-form-item>\n        <el-form-item label=\"邮箱\" label-width=\"80px\" prop=\"pEmail\">\n          <el-input v-model=\"registerForm.pEmail\"></el-input>\n        </el-form-item>\n        <el-form-item label=\"身份证号\" label-width=\"80px\" prop=\"pCard\">\n          <el-input v-model=\"registerForm.pCard\"></el-input>\n        </el-form-item>\n      </el-form>\n      <div slot=\"footer\" class=\"dialog-footer\">\n        <el-button @click=\"registerFormVisible = false\" style=\"font-size: 18px\"\n          ><i class=\"iconfont icon-r-left\" style=\"font-size: 20px\"></i> 取\n          消</el-button\n        >\n        <el-button\n          type=\"primary\"\n          @click=\"registerClick('registerForm')\"\n          style=\"font-size: 18px\"\n          ><i class=\"iconfont icon-r-yes\" style=\"font-size: 20px\"></i> 确\n          定</el-button\n        >\n      </div>\n    </el-dialog>\n  </div>\n</template>\n\n<script>\nimport request from \"@/utils/request.js\";\nimport { setToken } from \"@/utils/storage.js\";\nimport { toLoad } from \"@/utils/initialize.js\";\n\nexport default {\n  name: \"Login\",\n  data() {\n    var validateMoblie = (rule, value, callback) => {\n      if (value === undefined) {\n        callback(new Error(\"请输入手机号\"));\n      } else {\n        let reg = /^1(3[0-9]|4[5,7]|5[0,1,2,3,5,6,7,8,9]|6[2,5,6,7]|7[0,1,7,8]|8[0-9]|9[1,8,9])\\d{8}$/;\n        if (!reg.test(value)) {\n          callback(new Error(\"请输入合法的手机号\"));\n        }\n        callback();\n      }\n    };\n    var validateCard = (rule, value, callback) => {\n      if (value === undefined) {\n        callback(new Error(\"请输入身份证号\"));\n      } else {\n        let reg = /(^\\d{15}$)|(^\\d{18}$)|(^\\d{17}(\\d|X|x)$)/;\n        if (!reg.test(value)) {\n          callback(new Error(\"请输入合法的身份证号码\"));\n        }\n        callback();\n      }\n    };\n    var validatePass = (rule, value, callback) => {\n      if (value === \"\") {\n        callback(new Error(\"请输入密码\"));\n      } else {\n        if (this.findForm.checkPassword !== \"\") {\n          this.$refs.findForm.validateField(\"checkPassword\");\n        }\n        callback();\n      }\n    };\n    var validatePass2 = (rule, value, callback) => {\n      if (value === \"\") {\n        callback(new Error(\"请再次输入密码\"));\n      } else if (value !== this.findForm.newPassword) {\n        callback(new Error(\"两次输入密码不一致!\"));\n      } else {\n        callback();\n      }\n    };\n    return {\n      //背景图片\n      backgroundDiv: {\n        backgroundImage: \"url(\" + require(\"../assets/doctor.jpeg\") + \")\",\n        backgroundRepeat: \"no-repeat\",\n        backgroundSize: \"100% 100%\",\n      },\n      loginForm: {\n        id: \"\",\n        password: \"\",\n      },\n      loginRules: {\n        id: [\n          {\n            required: true,\n            message: \"请输入账号编号\",\n            trigger: \"blur\",\n          },\n          {\n            min: 3,\n            max: 50,\n            message: \"长度在 3到 50 个字符\",\n            trigger: \"blur\",\n          },\n        ],\n        password: [{ required: true, message: \"请输入密码\", trigger: \"blur\" }],\n      },\n      role: \"患者\",\n      findRole: \"患者\",\n      //找回密码\n      findFormVisible: false,\n      findForm: {\n        code: \"\",\n        newPassword: \"\",\n        checkPassword: \"\",\n        pEmail: \"\",\n      },\n\n      findRules: {\n        pEmail: [\n          {\n            required: true,\n            message: \"请输入邮箱地址\",\n            trigger: \"blur\",\n          },\n          {\n            type: \"email\",\n            message: \"请输入正确的邮箱地址\",\n            trigger: [\"blur\", \"change\"],\n          },\n        ],\n        code: [\n          {\n            required: true,\n            message: \"请输入验证码\",\n            trigger: \"blur\",\n          },\n        ],\n        newPassword: [{ validator: validatePass, trigger: \"blur\" }],\n        checkPassword: [{ validator: validatePass2, trigger: \"blur\" }],\n      },\n      totalTime: 60,\n      content: \"发送验证码\",\n      canClick: true,\n      //注册\n      registerFormVisible: false,\n      registerForm: {\n        pGender: \"男\",\n      },\n      registerRules: {\n        pId: [\n          { required: true, message: \"请输入账号\", trigger: \"blur\" },\n          {\n            type: \"number\",\n            message: \"账号必须数字类型\",\n            trigger: \"blur\",\n          },\n        ],\n        pPassword: [\n          { required: true, message: \"请输入密码\", trigger: \"blur\" },\n          {\n            min: 4,\n            max: 50,\n            message: \"长度在 4到 50 个字符\",\n            trigger: \"blur\",\n          },\n        ],\n        pName: [\n          { required: true, message: \"请输入姓名\", trigger: \"blur\" },\n          {\n            min: 2,\n            max: 8,\n            message: \"长度在 2到 8 个字符\",\n            trigger: \"blur\",\n          },\n        ],\n        pEmail: [\n          { required: true, message: \"请输入邮箱\", trigger: \"blur\" },\n          {\n            type: \"email\",\n            message: \"请输入正确的邮箱地址\",\n            trigger: [\"blur\", \"change\"],\n          },\n        ],\n        pPhone: [{ validator: validateMoblie }],\n        pCard: [{ validator: validateCard }],\n        pBirthday: [\n          {\n            required: true,\n            message: \"选择出生日期\",\n            trigger: \"blur\",\n          },\n        ],\n      },\n    };\n  },\n  mounted() {\n    toLoad();\n  },\n  methods: {\n    //点击注册确认按钮\n    registerClick(formName) {\n      this.$refs[formName].validate((valid) => {\n        if (valid) {\n          request\n            .get(\"patient/addPatient\", {\n              params: {\n                pId: this.registerForm.pId,\n                pName: this.registerForm.pName,\n                pPassword: this.registerForm.pPassword,\n                pGender: this.registerForm.pGender,\n                pEmail: this.registerForm.pEmail,\n                pPhone: this.registerForm.pPhone,\n                pCard: this.registerForm.pCard,\n                pBirthday: this.registerForm.pBirthday,\n              },\n            })\n            .then((res) => {\n              if (res.data.status !== 200)\n                return this.$message.error(\"账号或邮箱已被占用！\");\n              this.registerFormVisible = false;\n              this.$message.success(\"注册成功！\");\n              console.log(res);\n            });\n        } else {\n          console.log(\"error submit!!\");\n          return false;\n        }\n      });\n    },\n    // 点击找回密码确认按钮\n    findPassword(findForm) {\n      this.$refs[findForm].validate((valid) => {\n        if (valid) {\n          //如果是选中患者\n          if (this.findRole === \"患者\") {\n            request\n              .get(\"patient/findPassword\", {\n                params: {\n                  pEmail: this.findForm.pEmail,\n                  pPassword: this.findForm.newPassword,\n                  code: this.findForm.code,\n                },\n              })\n              .then((res) => {\n                if (res.data.status !== 200)\n                  return this.$message.error(\"验证码错误或者已过期！！！\");\n                this.$message.success(\"密码修改成功！！请登录\");\n                this.findFormVisible = false;\n              });\n          }\n          //如果是选中管理员\n          if (this.findRole === \"管理员\") {\n            request\n              .get(\"admin/findPassword\", {\n                params: {\n                  aEmail: this.findForm.pEmail,\n                  aPassword: this.findForm.newPassword,\n                  code: this.findForm.code,\n                },\n              })\n              .then((res) => {\n                if (res.data.status !== 200)\n                  return this.$message.error(\"验证码错误或者已过期！！！\");\n                this.$message.success(\"密码修改成功！！请登录\");\n                this.findFormVisible = false;\n              });\n          }\n          //如果是选中患者\n          if (this.findRole === \"医生\") {\n            request\n              .get(\"doctor/findPassword\", {\n                params: {\n                  dEmail: this.findForm.pEmail,\n                  dPassword: this.findForm.newPassword,\n                  code: this.findForm.code,\n                },\n              })\n              .then((res) => {\n                if (res.data.status !== 200)\n                  return this.$message.error(\"验证码错误或者已过期！！！\");\n                this.$message.success(\"密码修改成功！！请登录\");\n                this.findFormVisible = false;\n              });\n          }\n        } else {\n          console.log(\"error submit!!\");\n          return false;\n        }\n      });\n    },\n    //点击发送验证码按钮\n    sendEmail() {\n      //倒计时\n      if (!this.canClick) return; //改动的是这两行代码\n      this.canClick = false;\n      this.content = this.totalTime + \"s后重新发送\";\n      let clock = window.setInterval(() => {\n        this.totalTime--;\n        this.content = this.totalTime + \"s后重新发送\";\n        if (this.totalTime < 0) {\n          window.clearInterval(clock);\n          this.content = \"重新发送验证码\";\n          this.totalTime = 10;\n          this.canClick = true; //这里重新开启\n        }\n      }, 1000);\n\n      //如果是选中患者\n      if (this.findRole === \"患者\") {\n        request\n          .get(\"patient/sendEmail\", {\n            params: {\n              pEmail: this.findForm.pEmail,\n            },\n          })\n          .then((res) => {\n            console.log(this.findForm.pEmail);\n            console.log(res);\n            if (res.data.status !== 200)\n              return this.$message.error(\"该邮箱暂未注册！请先注册！\");\n            this.$message.success(\"验证码发送成功！\");\n          });\n      }\n      //如果是选中管理员\n      if (this.findRole === \"管理员\") {\n        request\n          .get(\"admin/sendEmail\", {\n            params: {\n              aEmail: this.findForm.pEmail,\n            },\n          })\n          .then((res) => {\n            console.log(this.findForm.pEmail);\n            console.log(res);\n            if (res.data.status !== 200)\n              return this.$message.error(\"该邮箱暂未注册！请先注册！\");\n            this.$message.success(\"验证码发送成功！\");\n          });\n      }\n      //如果是选中医生\n      if (this.findRole === \"医生\") {\n        request\n          .get(\"doctor/sendEmail\", {\n            params: {\n              dEmail: this.findForm.pEmail,\n            },\n          })\n          .then((res) => {\n            console.log(this.findForm.pEmail);\n            console.log(res);\n            if (res.data.status !== 200)\n              return this.$message.error(\"该邮箱暂未注册！请先注册！\");\n            this.$message.success(\"验证码发送成功！\");\n          });\n      }\n    },\n    //提交表单\n    submitLoginForm(formName) {\n      if (!/^\\d+$/.test(this.loginForm.id)) {\n        this.$message.error(\"用户名有误\");\n        return;\n      }\n      this.$refs[formName].validate((valid) => {\n        if (valid) {\n          if (this.role === \"管理员\") {\n            var params = new URLSearchParams();\n            params.append(\"aId\", this.loginForm.id);\n            params.append(\"aPassword\", this.loginForm.password);\n\n            request\n              .post(\"admin/login\", params)\n              .then((res) => {\n                console.log(res);\n                if (res.data.status != 200)\n                  return this.$message.error(\"用户名或密码错误\");\n                setToken(res.data.data.token);\n                this.$router.push(\"/adminLayout\");\n              })\n              .catch((e) => {\n                console.log(e);\n                if (e.response == undefined || e.response.data == undefined) {\n                  this.$message({\n                    showClose: true,\n                    message: e,\n                    type: \"error\",\n                    duration: 5000,\n                  });\n                } else {\n                  this.$message({\n                    showClose: true,\n                    message: e.response.data,\n                    type: \"error\",\n                    duration: 5000,\n                  });\n                }\n              });\n          }\n          if (this.role === \"医生\") {\n            var params1 = new URLSearchParams();\n            params1.append(\"dId\", this.loginForm.id);\n            params1.append(\"dPassword\", this.loginForm.password);\n\n            request\n              .post(\"doctor/login\", params1)\n              .then((res) => {\n                console.log(res);\n                if (res.data.status != 200)\n                  return this.$message.error(\"用户名或密码错误\");\n                setToken(res.data.data.token);\n                this.$router.push(\"/doctorLayout\");\n              })\n              .catch((e) => {\n                console.log(e);\n                if (e.response == undefined || e.response.data == undefined) {\n                  this.$message({\n                    showClose: true,\n                    message: e,\n                    type: \"error\",\n                    duration: 5000,\n                  });\n                } else {\n                  this.$message({\n                    showClose: true,\n                    message: e.response.data,\n                    type: \"error\",\n                    duration: 5000,\n                  });\n                }\n              });\n          }\n          if (this.role === \"患者\") {\n            var params2 = new URLSearchParams();\n            params2.append(\"pId\", this.loginForm.id);\n            params2.append(\"pPassword\", this.loginForm.password);\n\n            request\n              .post(\"patient/login\", params2)\n              .then((res) => {\n                console.log(res);\n                if (res.data.status != 200)\n                  return this.$message.error(\"用户名或密码错误\");\n                setToken(res.data.data.token);\n                this.$router.push(\"/patientLayout\");\n              })\n              .catch((e) => {\n                console.log(e);\n                if (e.response == undefined || e.response.data == undefined) {\n                  this.$message({\n                    showClose: true,\n                    message: e,\n                    type: \"error\",\n                    duration: 5000,\n                  });\n                } else {\n                  this.$message({\n                    showClose: true,\n                    message: e.response.data,\n                    type: \"error\",\n                    duration: 5000,\n                  });\n                }\n              });\n          }\n        } else {\n          console.log(\"error submit!!\");\n          return false;\n        }\n      });\n    },\n  },\n};\n</script>\n\n<style lang=\"scss\">\n.codeInput {\n  width: 70%;\n  margin-right: 10px;\n}\n.findPassword {\n  margin-top: 0px;\n}\n.login-index {\n  background: #2b4b6b;\n  height: 100%;\n  position: relative;\n}\n.mid-index {\n  opacity: 0.9;\n  width: 450px;\n  height: 390px;\n  background: white;\n  //绝对定位，相对于最左上角来说\n  position: absolute;\n  left: 70%;\n  top: 50%;\n  transform: translate(-50%, -50%);\n}\n.logo-index {\n  background: white;\n  height: 130px;\n  width: 130px;\n  border-radius: 50%;\n  padding: 10px;\n  //子绝父相,使一个div悬挂在另一个div上中间\n  position: absolute;\n  left: 50%;\n  top: 0;\n  transform: translate(-50%, -50%);\n\n  border: 1px solid #eee;\n  box-shadow: 0px 0px 10px #ddd;\n\n  img {\n    height: 100%;\n    width: 100%;\n    border-radius: 50%;\n    background: #eeeeee;\n  }\n}\n\n.loginForm {\n  margin-top: 120px;\n}\n.el-form-item {\n  margin-left: 20px;\n  margin-right: 20px;\n}\n//角色单选\n.role {\n  margin-left: 90px;\n  margin-right: 90px;\n}\n//按钮\n.btns {\n  display: flex;\n  justify-content: flex-end;\n  height: 25px;\n}\n</style>\n"]}]}